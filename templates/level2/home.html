<!doctype html>
<html>
  <head>
    <title>XSS game: Level 2</title>
    <link  type="text/css" rel="stylesheet" href="/static/game.css" />
    <script src="/static/game.js"></script>
    <script>
      window.onload = function() { setInputFieldReturnHandler(); }
    </script>
  </head>
  <body>
    <h1 id="level-title">[2/6]&nbsp;
      Level 2: Persistence is key</h1>

    <div id="instructions">

    <h2>Mission Description</h2>

    
  Web applications often keep user data in server-side and, increasingly,
  client-side databases and later display it to users. No matter where
  such user-controlled data comes from, it should be handled carefully.
  
  <br><br>
  This level shows how easily XSS bugs can be introduced in complex apps.


    <h2>Mission Objective</h2>

    
    Inject a script to pop up an <code>alert()</code> in the context of the
    application.  
    <br><br>
    <b>Note</b>: the application saves your posts so if you sneak
    in code to execute the alert, this level will be solved
    every time you reload it.


    <div id="next-controls">
       
        <a class="next-button" href="/level3">Advance to next level &gt;&gt;</a>
      

    </div>

    <h2>Your Target</h2>
  </div>

  <div id="game-frame-container">
    <div id="topbar"></div>
    <div class="example-controls">
      <span class="url">URL</span>
      <input id="input1" class="urlbar" type="text" value="">
      <input class="urlbutton" type="Submit" value="Go"
      onclick="updateFrame(1); return false;">
    </div>
    <iframe class="game-frame" src="/level2/frame"></iframe>
  </div>

  <h2>Target code (<a href="#" onclick="toggleCode(); return false">toggle</a>)</h2>

  <iframe id="source-frame" src="/level2/source"></iframe>

  <h2>Hints <span id="hint-num">0</span>/3 (<a
      href="#" onclick="showHint(); return false">show</a>)</h2>

  <div id="hints">
    <ol>
  
    <li style="display: none" data-hidden="true"><b>1.</b> 
    Note that the "welcome" post contains HTML, which indicates 
         that the template doesn't escape the contents of status messages.
  
    <li style="display: none" data-hidden="true"><b>2.</b> 
    Entering a &lt;script&gt; tag on this level will not work.
         Try an element with a JavaScript attribute instead.
  
    <li style="display: none" data-hidden="true"><b>3.</b> 
    This level is sponsored by the letters <i>i</i>, <i>m</i> and 
         <i>g</i> and the attribute <code>onerror</code>.
         
  
    </ol>
  </div>

  </body>
</html>