<!doctype html>
<html>
  <head>
    <title>XSS game: Level 4</title>
    <link  type="text/css" rel="stylesheet" href="/static/game.css" />
    <script src="/static/game.js"></script>
    <script>
      window.onload = function() { setInputFieldReturnHandler(); }
    </script>
  </head>
  <body>
    <h1 id="level-title">[4/6]&nbsp;
      Level 4: Context matters</h1>

    <div id="instructions">

    <h2>Mission Description</h2>

    
    Every bit of user-supplied data must be correctly escaped for the 
    context of the page in which it will appear. This level shows why.


    <h2>Mission Objective</h2>

    
    Inject a script to pop up a JavaScript <code>alert()</code> in
    the application.


    <div id="next-controls">
       
        <a class="next-button" href="/level5">Advance to next level &gt;&gt;</a>
      

    </div>

    <h2>Your Target</h2>
  </div>

  <div id="game-frame-container">
    <div id="topbar"></div>
    <div class="example-controls">
      <span class="url">URL</span>
      <input id="input1" class="urlbar" type="text" value="">
      <input class="urlbutton" type="Submit" value="Go"
      onclick="updateFrame(1); return false;">
    </div>
    <iframe class="game-frame" src="/level4/frame"></iframe>
  </div>

  <h2>Target code (<a href="#" onclick="toggleCode(); return false">toggle</a>)</h2>

  <iframe id="source-frame" src="/level4/source"></iframe>

  <h2>Hints <span id="hint-num">0</span>/3 (<a
      href="#" onclick="showHint(); return false">show</a>)</h2>

  <div id="hints">
    <ol>
  
    <li style="display: none" data-hidden="true"><b>1.</b> 
    Take a look at how the <code>startTimer</code> function is
         called.
  
    <li style="display: none" data-hidden="true"><b>2.</b> 
    When browsers parse tag attributes, they HTML-decode their values
         first. &lt;foo bar='z'> is the same as &lt;foo bar='&amp;#x7a;'  
  
    <li style="display: none" data-hidden="true"><b>3.</b> 
    Try entering a single quote (') and watch the error console.
  
    </ol>
  </div>

  </body>
</html>